<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
<title>Blank App</title>
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
<style>
#container {
margin-left: 10px;
margin-right: 10px;
}

</style>
</head>

<body>
<div id='container'>
<h1>Joke Generator</h1>
<button id='btnGetJoke'>Get Joke</button>
<p>Select the button to retrieve a joke</p>
<div id='joke'>A Chuck Norris joke</div>
</div> <!-- end of container -->

<script type="text/javascript" src="cordova.js"></script>
<script>
var xmlhttp;
window.onload = function() {
//document.addEventListener('deviceready',init ,false);
init();
};

function init() {
document.getElementById('btnGetJoke').addEventListener('click', getJoke, false);
xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = receiveJoke;
}

function getJoke() {
xmlhttp.open('GET', 'http://api.icndb.com/jokes/random/', true);
xmlhttp.send();
}

function receiveJoke() {
if (xmlhttp.status == 200 && xmlhttp.readyState == 4) {
var json = jQuery.parseJSON(xmlhttp.responseText);
document.getElementById('joke').innerHTML = json.value.joke;
}
}

</script>

</body>

</html>